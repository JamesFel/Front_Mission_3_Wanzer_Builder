<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
<style>
    .emma-or-alisa {grid-area: ea;}
    .mission-counter {grid-area: mission}
    .include-stolen {grid-area: stolen}
    .base-ap {grid-area: tAP}
    .stat-info-box {grid-area: stats;}
    .backpack-contents {grid-area: contents}
    .wanzer-body {grid-area: body}
    .left-arm {grid-area: lArm}
    .right-arm {grid-area: rArm}
    .wanzer-legs {grid-area: legs}
    .left-hand {grid-area: lHand}
    .right-hand {grid-area: rHand}
    .left-shoulder {grid-area: lShoulder}
    .left-shoulder {grid-area: rShoulder}
    .worn-backpack {grid-area: backpack}
    .body-skill-info {grid-area: bSkill}
    .left-arm-skill-info {grid-area: lSkill}
    .right-arm-skill-info {grid-area: rSkill}
    .legs-skill-info {grid-area: fSkill}

    .grid-container
    {
        display: grid;
        grid-template-areas:
            'ea mission stolen tAP'
            'stats lShoulder backpack rShoulder'
            'stats lArm body rArm'
            'stats lHand legs rHand'
            'bSkill lSkill rSkill fSkill'
            'contents contents contents contents'
            'contents contents contents contents';
        grid-gap: 5px;
        padding: 5px;
    }
    .grid-container > div
    {
        background-color: rgb(230, 230, 230);
        text-align: center;
        padding: 20px 0;
        font-size: 30px;
    }

    table
    {
        width: 100%
        border-collapse: separate;
        border-spacing: 15px 0;
    }

    th
    {
        text-align: left;
        width: 40%
    }

    td
    {
        text-align: right;
        min-width: 4ch;
        white-space: nowrap;
    }

    select, input{font: inherit;}
    p {text-align:left;}

</style>
</head>

<body>
    <h1>Front Mission 3 Wanzer Builder</h1>
    <p>Currently in alpha.</p>
    <div class="grid-container">

<!-----------------------------------------------Sources--------------------------------------------------------------->
        <div class="emma-or-alisa" title="Did you go with Ryogo when you were given the choice? Yes: Emma, No: Alisa">
            <label for="ea-select">Emma or Alisa
                <select id="ea-select" onchange="updateDropdownLists()">
                    <option value=0>Emma</option>
                    <option value=1 selected>Alisa</option>
                </select>
            </label>
        </div>

        <div class="mission-counter">
            <label for="mission">Last Mission Won:
                <input type="number" id="mission" min="1" max="70" step="1" value="9" onchange="updateDropdownLists()">
            </label>
        </div>

        <div class="include-stolen" title="Include wanzers that you could, theoretically, have stolen by this point">
            <label for="steal">Include potentially stolen wanzers?
                <input type="checkbox" id="steal" onchange="updateDropdownLists()">
            </label>
        </div>

        <div class="base-ap" title="AP if in an un-upgraded wanzer">
            <label for="total-ap">Base AP:
                <input
                        type="number"
                        id="total-ap"
                        min="12"
                        max="30"
                        step="1"
                        value="12"
                        onchange="updateBattleAP()"
                >
            </label>
        </div>

<!---------------------------------------------Stat Info Box----------------------------------------------------------->
        <div class="stat-info-box">
            <table>
                <tr>
                    <th>Battle AP</th>
                    <td id="battle-ap">12</td>
                </tr>
                <tr>
                    <th>Total Power:</th>
                    <td id="total-power">0</td>
                </tr>
                <tr>
                    <th>Total Weight:</th>
                    <td id="total-weight">0</td>
                </tr>

                <tr>
                    <th>Unused Power:</th>
                    <td id="unused-power">0</td>
                </tr>

                <tr>
                    <th>Def-C:</th>
                    <td id="stats-def-c">0</td>
                </tr>

                <tr>
                    <th title="Average HP per wanzer part.">Avg HP:</th>
                    <td id="stats-avg-hp">0</td>
                </tr>

                <tr>
                    <th>Move:</th>
                    <td id="stats-move">0</td>
                </tr>

                <tr>
                    <th>Evade:</th>
                    <td id="stats-evade">0</td>
                </tr>

                <tr>
                    <th
                        title="percentage of listed damage that you would generally take when blocking">
                            Blocked Dmg%</th>
                    <td id="stats-bdp">0</td>
                </tr>

                <tr>
                    <th>Boost:</th>
                    <td id="stats-boost">0</td>
                </tr>

                <tr>
                    <th>Dash:</th>
                    <td id="stats-dash">0</td>
                </tr>

                <tr>
                    <th>Total Cost:</th>
                    <td id="total-cost">0</td>
                </tr>
            </table>
        </div>

<!-------------------------------------------Backpack contents--------------------------------------------------------->
        <div class="backpack-contents">
            <p>backpack container goes here if I decide to include it
                and a backpack of the appropriate type is equipped.</p>
        </div>

<!-------------------------------------------Equipment selection------------------------------------------------------->
        <div class="wanzer-body">
            <label for="body-selector">Select Body:
                <select id="body-selector"
                    onchange="updateBodyField()">
                </select>
            </label>
            <table>
                <tr>
                    <th>HP</th>
                    <td id='body-hp'>0</td>
                    <th>Def-C</th>
                    <td id='def-c'>0</td>
                </tr>
                <tr>
                    <th>Weight</th>
                    <td id='body-wgt'>0</td>
                    <th>Power</th>
                    <td id="body-power">0</td>
                </tr>
                <tr>
                    <th>Hp Upgrades</th>
                    <td>
                        <input
                            id="body-hp-upgrades"
                            type="number"
                            min="0"
                            max="7"
                            value="0"
                            onchange="updateHP('body')">
                    </td>
                    <th>Def-C Upgrades</th>
                    <td>
                        <input
                            id="body-def-c-upgrades"
                            type="number"
                            min="0"
                            max="4"
                            value="0"
                            onchange="updateDefC()">
                    </td>
                </tr>
                <tr>
                    <th>Skill</th>
                    <td id="body-skill"></td>
                    <th>Cost</th>
                    <td id="body-cost"></td>
                </tr>
            </table>
        </div>

        <div class="left-arm">
            <label for="left-arm-selector">Select Left Arm:
                <select id="left-arm-selector"
                    onchange="updateArmField('left')">
                </select>
            </label>

            <table>
                <tr>
                    <th>HP</th>
                    <td id='left-arm-hp'>0</td>
                    <th>Acc</th>
                    <td id='left-arm-acc'>0</td>
                </tr>
                <tr>
                    <th>Weight</th>
                    <td id='left-arm-wgt'>0</td>
                </tr>
                <tr>
                    <th>Hp Upgrades</th>
                    <td>
                        <input
                            id="left-arm-hp-upgrades"
                            type="number"
                            min="0"
                            max="7"
                            value="0"
                            onchange="updateHP('left-arm')">
                    </td>
                    <th>Acc Upgrades</th>
                    <td>
                        <input
                            id="left-arm-acc-upgrades"
                            type="number"
                            min="0"
                            max="4"
                            value="0"
                            onchange="updateAcc('left')">
                    </td>
                </tr>
                <tr>
                    <th>Skill</th>
                    <td id="left-arm-skill"></td>
                    <th>Cost</th>
                    <td id="left-arm-cost"></td>
                </tr>
            </table>
        </div>

        <div class="right-arm">
            <label for="right-arm-selector">Select Right Arm:
                <select id="right-arm-selector"
                    onchange="updateArmField('right')">
                </select>
            </label>

            <table>
                <tr>
                    <th>HP</th>
                    <td id='right-arm-hp'>0</td>
                    <th>Acc</th>
                    <td id='right-arm-acc'>0</td>
                </tr>
                <tr>
                    <th>Weight</th>
                    <td id='right-arm-wgt'>0</td>
                </tr>
                <tr>
                    <th>Hp Upgrades</th>
                    <td>
                        <input
                            id="right-arm-hp-upgrades"
                            type="number"
                            min="0"
                            max="7"
                            value="0"
                            onchange="updateHP('right-arm')">
                    </td>
                    <th>Acc Upgrades</th>
                    <td>
                        <input
                            id="right-arm-acc-upgrades"
                            type="number"
                            min="0"
                            max="4"
                            value="0"
                            onchange="updateAcc('right')">
                    </td>
                </tr>
                <tr>
                    <th>Skill</th>
                    <td id="right-arm-skill"></td>
                    <th>Cost</th>
                    <td id="right-arm-cost"></td>
                </tr>
            </table>
        </div>

        <div class="wanzer-legs">
            <label for="wanzer-legs-selector">Select Legs:
                <select id="wanzer-legs-selector"
                    onchange="updateLegsField()">
                </select>
            </label>

            <table>
                <tr>
                    <th>HP</th>
                    <td id='wanzer-legs-hp'>0</td>
                    <th>Move</th>
                    <td id='wanzer-legs-move'>0</td>
                </tr>
                <tr>
                    <th>Weight</th>
                    <td id='wanzer-legs-wgt'>0</td>
                    <th>Evade</th>
                    <td id="wanzer-legs-evade">0</td>
                </tr>
                <tr>
                    <th>Boost</th>
                    <td id="wanzer-legs-boost">0</td>
                    <th>Dash</th>
                    <td id="wanzer-legs-dash">0</td>
                </tr>
                <tr>
                    <th>Type</th>
                    <td id="wanzer-legs-type">Hover</td>
                    <th>Hp Upgrades</th>
                    <td>
                        <input
                            id="wanzer-legs-hp-upgrades"
                            type="number"
                            min="0"
                            max="7"
                            value="0"
                            onchange="updateHP('wanzer-legs')">
                    </td>
                </tr>
                <tr>
                    <th>Evade Upgrades</th>
                    <td>
                        <input
                            id="wanzer-legs-evade-upgrades"
                            type="number"
                            min="0"
                            max="4"
                            value="0"
                            onchange="updateEvade()">
                    </td>
                    <th>Boost/Dash Upgrades</th>
                    <td>
                        <input
                            id="wanzer-legs-bd-upgrades"
                            type="number"
                            min="0"
                            max="4"
                            value="0"
                            onchange="updateBoostDash()">
                    </td>
                </tr>
                <tr>
                    <th>Skill</th>
                    <td id="wanzer-legs-skill"></td>
                    <th>Cost</th>
                    <td id="wanzer-legs-cost"></td>
                </tr>
            </table>
        </div>

        <div class="left-hand">
            <select id="left-shield" onchange="updateHandList('left')">
                <option value="s">Shield</option>
                <option value="w">Weapon</option>
            </select>

            <label for="left-hand-selector">Select Left-hand:
                <select id="left-hand-selector"
                    onchange="updateHandField('left')">  <!-- TODO: implement function -->
                </select>
            </label>
        </div>

        <div class="right-hand">
            <select id="right-shield" onchange="updateHandList('right')">
                <option value="s">Shield</option>
                <option value="w">Weapon</option>
            </select>

            <label for="right-hand-selector">Select Right-hand:
                <select id="right-hand-selector"
                    onchange="updateHandField('right')">  <!-- TODO: implement function -->
                </select>
            </label>
        </div>

        <div class="left-shoulder">
            <label for="left-shoulder-selector">Select Left-shoulder Weapon:
                <select id="left-shoulder-selector"
                    onchange="updateShoulderField('left')">
                </select>
            </label>

            <table>
                <tr>
                    <th>Weapon Type:</th>
                    <td id="left-shoulder-weapon-type">missile</td>
                    <th>Damage Type:</th>
                    <td id="left-shoulder-damage-type">F</td>
                </tr>
                <tr>
                    <th>Damage:</th>
                    <td id="left-shoulder-damage">0</td>
                    <th>Acc</th>
                    <td id="left-shoulder-acc">0</td>
                </tr>
                <tr>
                    <th>Range:</th>
                    <td id="left-shoulder-range">0~0</td>
                    <th>Ammo:</th>
                    <td id="left-shoulder-ammo">0</td>
                </tr>
                <tr>
                    <th>AP Cost:</th>
                    <td id="left-shoulder-ap-cost">0</td>
                    <th>Weight</th>
                    <td id="left-shoulder-wgt">0</td>
                </tr>
                <tr>
                    <th></th>
                    <td></td>
                    <th>Cost:</th>
                    <td id="left-shoulder-cost">0</td>
                </tr>
            </table>
        </div>

        <div class="right-shoulder">
            <label for="right-shoulder-selector">Select Right-shoulder Weapon:
                <select id="right-shoulder-selector"
                    onchange="updateShoulderField('right')">
                </select>
            </label>
            <table>
                <tr>
                    <th>Weapon Type:</th>
                    <td id="right-shoulder-weapon-type">missile</td>
                    <th>Damage Type:</th>
                    <td id="right-shoulder-damage-type">F</td>
                </tr>
                <tr>
                    <th>Damage:</th>
                    <td id="right-shoulder-damage">0</td>
                    <th>Acc</th>
                    <td id="right-shoulder-acc">0</td>
                </tr>
                <tr>
                    <th>Range:</th>
                    <td id="right-shoulder-range">0~0</td>
                    <th>Ammo:</th>
                    <td id="right-shoulder-ammo">0</td>
                </tr>
                <tr>
                    <th>AP Cost:</th>
                    <td id="right-shoulder-ap-cost">0</td>
                    <th>Weight</th>
                    <td id="right-shoulder-wgt">0</td>
                </tr>
                <tr>
                    <th></th>
                    <td></td>
                    <th>Cost:</th>
                    <td id="right-shoulder-cost">0</td>
                </tr>
            </table>
        </div>

        <div class="worn-backpack">
            <label for="power-capacity">Type
                <select id="power-capacity"
                onchange="updateBackpackList()">
                    <option value="p">power</option>
                    <option value="c">capacity</option>
                </select>
            </label>

            <label for="backpack-selector">Select Backpack:
                <select id="backpack-selector"
                    onchange="updateBackpackField()">
                </select>
            </label>
            <table>
                <tr>
                    <th id="power-capacity-label">Power:</th>
                    <td id="power-capacity-value">0</td>
                    <th>Weight:</th>
                    <td id="backpack-weight">0</td>
                </tr>
            </table>
        </div>

<!-- ------------------------------------------------Skills------------------------------------------------------------>
        <div class="body-skill-info">body skill goes here</div>
        <div class="left-arm-skill-info">left arm skill goes here</div>
        <div class="right-arm-skill-info">right arm skill goes here</div>
        <div class="legs-skill-info">legs skill goes here</div>
    </div>

<!-- ------------------------------------------------Script files------------------------------------------------------>
    <script src="js files/item.js"></script>
    <script src="js files/equippable_item.js"></script>
    <script src="js files/machine_part.js"></script>
    <script src="js files/arm.js"></script>
    <script src="js files/legs.js"></script>
    <script src="js files/body.js"></script>
    <script src="js files/weapon.js"></script>
    <script src="js files/shoulder_weapon.js"></script>
    <script src="js files/hand_weapon.js"></script>
    <script src="js files/shield.js"></script>
    <script src="js files/backpack.js"></script>
    <script src="js files/power_supply.js"></script>
    <script src="js files/basket.js"></script>
    <script src="js files/json_queries.js"></script>
    <script src="js files/dropdowns.js"></script>
    <script src="js files/update_fields.js"></script>

<!-----------------------------------------------Main()---------------------------------------------------------------->
    <script>
        "use strict"

        var db,
            wanzerList = [],
            handWeaponList = [],
            shoulderWeaponList = [],
            shieldList = [],
            backpackListP = [],
            backpackListC = [],
            currentSelections = {
                "left-shoulder": null,
                "right-shoulder": null,
                "body": null,
                "left-arm": null,
                "right-arm": null,
                "wanzer-legs": null,
                "backpack": null,
                "right-hand": null,
                "left-hand": null
            };

        var request = new XMLHttpRequest();
        request.open('GET', "front_mission_3_data.json");
        request.responseType = 'json';
        request.onloadend = function()
        {
            db = request.response;
            updateDropdownLists();
        }
        request.send()
    </script>

</body>
</html>