<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
<style>
    .emma-or-alisa {grid-area: ea;}
    .mission-counter {grid-area: mission}
    .include-stolen {grid-area: stolen}
    .base-ap {grid-area: tAP}
    .current-ap {grid-area: bAP}
    .stat-info-box {grid-area: stats;}
    .backpack-contents {grid-area: contents}
    .wanzer-body {grid-area: body}
    .left-arm {grid-area: lArm}
    .right-arm {grid-area: rArm}
    .wanzer-legs {grid-area: legs}
    .left-hand {grid-area: lHand}
    .right-hand {grid-area: rHand}
    .left-shoulder {grid-area: lShoulder}
    .left-shoulder {grid-area: rShoulder}
    .worn-backpack {grid-area: backpack}
    .skill-descriptions {grid-area: skills}

    .grid-container
    {
        display: grid;
        grid-template-areas:
            'ea mission stolen tAP bAP'
            'stats lShoulder backpack rShoulder skills'
            'stats lArm body rArm skills'
            'stats lHand legs rHand skills'
            'stats contents contents contents contents'
            'stats contents contents contents contents';
        grid-gap: 5px;
        padding: 5px;
    }
    .grid-container > div
    {
        background-color: rgb(230, 230, 230);
        text-align: center;
        padding: 20px 0;
        font-size: 30px;
    }
    th {text-align:left;}
</style>
</head>

<body>
    <h1>Front Mission 3 Wanzer Builder</h1>
    <p>Currently in early alpha.</p>
    <div class="grid-container">

<!-----------------------------------------------Sources--------------------------------------------------------------->
        <div class="emma-or-alisa" title="Did you go with Ryogo when you were given the choice? Yes: Emma, No: Alisa">
            <label for="ea-select">Emma or Alisa
                <select id="ea-select" onchange="updateDropdownLists()">  <!-- TODO: implement resetAll() -->
                    <option value=0>Emma</option>
                    <option value=1 selected>Alisa</option>
                </select>
            </label>
        </div>

        <div class="mission-counter">
            <label for="mission">Last Mission Won:
                <input type="number" id="mission" min="1" max="70" step="1" value="9" onchange="updateDropdownLists()">
            </label>
        </div>

        <div class="include-stolen" title="Include wanzers that you could, theoretically, have stolen by this point">
            <label for="steal">Include potentially stolen wanzers?
                <input type="checkbox" id="steal" onchange="updateDropdownLists()">
            </label>
        </div>

        <div class="base-ap" title="AP if in an un-upgraded wanzer">
            <label for="total-ap">Base AP:
                <input type="number" id="total-ap" min="12" max="30" step="1" value="12">
            </label>
        </div>

        <div class="current-ap"
             title="AP if all selected upgrades were active. If less than 12, you've got too many upgrades.">
                 <label for="battle-ap">Battle AP:
                     <input type="number" id="battle-ap" min="12" max="30" step="1" value="12">
                 </label>
        </div>

<!---------------------------------------------Stat Info Box----------------------------------------------------------->
        <div class="stat-info-box">
            <label>Total Cost:<input id="total-cost" type="number" readonly></label>
            stat info box goes here
        </div>

<!-------------------------------------------Backpack contents--------------------------------------------------------->
        <div class="backpack-contents">
            <p>backpack container goes here if I decide to include it
                and a backpack of the appropriate type is equipped.</p>
        </div>

<!-------------------------------------------Equipment selection------------------------------------------------------->
        <div class="wanzer-body">
            <label for="body-selector">Select Body:
                <select id="body-selector"
                    onchange="updateBodyField()">
                </select>
            </label>
            <table style="width:100%">
                <tr>
                    <th>HP</th>
                    <td id='body-hp'>0</td>
                    <th>Def-C</th>
                    <td id='def-c'>0</td>
                </tr>
                <tr>
                    <th>Weight</th>
                    <td id='body-wgt'>0</td>
                    <th>Power</th>
                    <td id="body-power">0</td>
                </tr>
                <tr>
                    <th>Hp Upgrades</th>
                    <td>
                        <input
                            id="body-hp-upgrades"
                            type="number"
                            min="0"
                            max="7"
                            value="0"
                            onchange="updateHP('body')">
                    </td>
                    <th>Def-C Upgrades</th>
                    <td>
                        <input
                            id="body-def-c-upgrades"
                            type="number"
                            min="0"
                            max="4"
                            value="0"
                            onchange="updateDefC()">
                    </td>
                </tr>
                <tr>
                    <th>Skill</th>
                    <td id="body-skill"></td>
                    <th>Cost</th>
                    <td id="body-cost"></td>
                </tr>
            </table>
        </div>

        <div class="left-arm">
            <label for="left-arm-selector">Select Left Arm:
                <select id="left-arm-selector"
                    onchange="updateLeftArmField()">  <!-- TODO: implement function-->
                </select>
            </label>
        </div>

        <div class="right-arm">
            <label for="right-arm-selector">Select Right Arm:
                <select id="right-arm-selector"
                    onchange="updateRightArmField()">  <!-- TODO: implement function -->
                </select>
            </label>
        </div>

        <div class="wanzer-legs">
            <label for="wanzer-legs-selector">Select Legs:
                <select id="wanzer-legs-selector"
                    onchange="updateLegsField()">  <!-- TODO: implement function -->
                </select>
            </label>
        </div>

        <div class="left-hand">
            <select id="left-shield" onchange="updateHandList('left')">
                <option value="s">Shield</option>
                <option value="w">Weapon</option>
            </select>

            <label for="left-hand-selector">Select Left-hand:
                <select id="left-hand-selector"
                    onchange="updateLeftHandField()">  <!-- TODO: implement function -->
                </select>
            </label>
        </div>

        <div class="right-hand">
            <select id="right-shield" onchange="updateHandList('right')">
                <option value="s">Shield</option>
                <option value="w">Weapon</option>
            </select>

            <label for="right-hand-selector">Select Right-hand:
                <select id="right-hand-selector"
                    onchange="updateRightHandField()">  <!-- TODO: implement function -->
                </select>
            </label>
        </div>

        <div class="left-shoulder">
            <label for="left-shoulder-selector">Select Left-shoulder Weapon:
                <select id="left-shoulder-selector"
                    onchange="updateLeftShoulderField()">  <!-- TODO: implement function -->
                </select>
            </label>
        </div>

        <div class="right-shoulder">
            <label for="right-shoulder-selector">Select Right-shoulder Weapon:
                <select id="right-shoulder-selector"
                    onchange="updateRightShoulderField()">  <!-- TODO: implement function -->
                </select>
            </label>
        </div>

        <div class="worn-backpack">
            <label for="capacity-power">Type
                <select id="capacity-power">
                    <option value="p">power</option>
                    <option value="c">capacity</option>
                </select>
            </label>

            <label for="backpack-selector">Select Backpack:
                <select id="backpack-selector"
                    onchange="updateBackpackField()">  <!-- TODO: implement function -->
                </select>
            </label>
        </div>

<!-- ------------------------------------------------Skills------------------------------------------------------------>
        <div class="skill-descriptions">
            <div id="body skill">body skill goes here</div>
            <div id="left arm skill">left arm skill goes here</div>
            <div id="right arm skill">right arm skill goes here</div>
            <div id="legs skill">legs skill goes here</div>
        </div>
    </div>

<!-- ------------------------------------------------Script files------------------------------------------------------>
    <script src="js files/item.js"></script>
    <script src="js files/equippable_item.js"></script>
    <script src="js files/machine_part.js"></script>
    <script src="js files/arm.js"></script>
    <script src="js files/legs.js"></script>
    <script src="js files/body.js"></script>
    <script src="js files/weapon.js"></script>
    <script src="js files/shoulder_weapon.js"></script>
    <script src="js files/hand_weapon.js"></script>
    <script src="js files/shield.js"></script>
    <script src="js files/backpack.js"></script>
    <script src="js files/power_supply.js"></script>
    <script src="js files/basket.js"></script>
    <script src="js files/json_queries.js"></script>
    <script src="js files/dropdowns.js"></script>
    <script src="js files/update_fields.js"></script>

<!-----------------------------------------------Main()---------------------------------------------------------------->
    <script>
        "use strict"

        var db,
            wanzerList = [],
            handWeaponList = [],
            shoulderWeaponList = [],
            shieldList = [],
            backpackListP = [],
            backpackListC = [],
            currentSelections = {
                "left-shoulder": null,
                "right-shoulder": null,
                "body": null,
                "left-arm": null,
                "right-arm": null,
                "wanzer-legs": null,
                "backpack": null,
                "right-hand": null,
                "left-hand": null
            };

        var request = new XMLHttpRequest();
        request.open('GET', "front_mission_3_data.json");
        request.responseType = 'json';
        request.onloadend = function()
        {
            db = request.response;
            updateDropdownLists();
        }
        request.send()
    </script>

</body>
</html>